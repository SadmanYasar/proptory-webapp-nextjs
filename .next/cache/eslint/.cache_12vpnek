[{"C:\\Users\\PC\\Desktop\\proptory-webapp\\pages\\agents\\[id].tsx":"1","C:\\Users\\PC\\Desktop\\proptory-webapp\\pages\\api\\admin\\privileges\\editor\\auth\\adminLogin.ts":"2","C:\\Users\\PC\\Desktop\\proptory-webapp\\pages\\api\\admin\\privileges\\editor\\auth\\adminSignup.ts":"3","C:\\Users\\PC\\Desktop\\proptory-webapp\\pages\\api\\admin\\privileges\\editor\\listing.ts":"4","C:\\Users\\PC\\Desktop\\proptory-webapp\\pages\\api\\agents\\[id].ts":"5","C:\\Users\\PC\\Desktop\\proptory-webapp\\pages\\api\\auth\\login.ts":"6","C:\\Users\\PC\\Desktop\\proptory-webapp\\pages\\api\\auth\\signup.ts":"7","C:\\Users\\PC\\Desktop\\proptory-webapp\\pages\\api\\health\\index.ts":"8","C:\\Users\\PC\\Desktop\\proptory-webapp\\pages\\api\\listings\\index.ts":"9","C:\\Users\\PC\\Desktop\\proptory-webapp\\pages\\api\\listings\\[id].ts":"10","C:\\Users\\PC\\Desktop\\proptory-webapp\\pages\\listings\\index.tsx":"11","C:\\Users\\PC\\Desktop\\proptory-webapp\\pages\\listings\\view3d\\[id].tsx":"12","C:\\Users\\PC\\Desktop\\proptory-webapp\\pages\\listings\\[id].tsx":"13","C:\\Users\\PC\\Desktop\\proptory-webapp\\pages\\_app.tsx":"14","C:\\Users\\PC\\Desktop\\proptory-webapp\\pages\\_document.tsx":"15","C:\\Users\\PC\\Desktop\\proptory-webapp\\components\\add_listing_modal.tsx":"16","C:\\Users\\PC\\Desktop\\proptory-webapp\\components\\card.tsx":"17","C:\\Users\\PC\\Desktop\\proptory-webapp\\components\\formInputs\\button.tsx":"18","C:\\Users\\PC\\Desktop\\proptory-webapp\\components\\formInputs\\input.tsx":"19","C:\\Users\\PC\\Desktop\\proptory-webapp\\components\\layout.tsx":"20","C:\\Users\\PC\\Desktop\\proptory-webapp\\components\\login_form.tsx":"21","C:\\Users\\PC\\Desktop\\proptory-webapp\\components\\nav.tsx":"22","C:\\Users\\PC\\Desktop\\proptory-webapp\\components\\notification.tsx":"23","C:\\Users\\PC\\Desktop\\proptory-webapp\\components\\searchBar.tsx":"24","C:\\Users\\PC\\Desktop\\proptory-webapp\\components\\signup_form.tsx":"25","C:\\Users\\PC\\Desktop\\proptory-webapp\\pages\\auth\\index.tsx":"26","C:\\Users\\PC\\Desktop\\proptory-webapp\\pages\\admin\\dashboard\\index.tsx":"27","C:\\Users\\PC\\Desktop\\proptory-webapp\\components\\filter.tsx":"28","C:\\Users\\PC\\Desktop\\proptory-webapp\\components\\priceFilter.tsx":"29","C:\\Users\\PC\\Desktop\\proptory-webapp\\components\\shareModal.tsx":"30"},{"size":3267,"mtime":1676889249441,"results":"31","hashOfConfig":"32"},{"size":1161,"mtime":1675904590625,"results":"33","hashOfConfig":"32"},{"size":1455,"mtime":1677263119536,"results":"34","hashOfConfig":"32"},{"size":2159,"mtime":1676103554647,"results":"35","hashOfConfig":"32"},{"size":3464,"mtime":1676888907260,"results":"36","hashOfConfig":"32"},{"size":1335,"mtime":1676865364546,"results":"37","hashOfConfig":"32"},{"size":967,"mtime":1676865103531,"results":"38","hashOfConfig":"32"},{"size":209,"mtime":1676764644218,"results":"39","hashOfConfig":"32"},{"size":1860,"mtime":1677261086790,"results":"40","hashOfConfig":"32"},{"size":1326,"mtime":1676153779659,"results":"41","hashOfConfig":"32"},{"size":4547,"mtime":1677261093825,"results":"42","hashOfConfig":"32"},{"size":5597,"mtime":1677263491176,"results":"43","hashOfConfig":"32"},{"size":4822,"mtime":1677243369773,"results":"44","hashOfConfig":"32"},{"size":388,"mtime":1675282332122,"results":"45","hashOfConfig":"32"},{"size":231,"mtime":1674921139462,"results":"46","hashOfConfig":"32"},{"size":4085,"mtime":1677065857719,"results":"47","hashOfConfig":"32"},{"size":1406,"mtime":1676758544796,"results":"48","hashOfConfig":"32"},{"size":608,"mtime":1675588384564,"results":"49","hashOfConfig":"32"},{"size":710,"mtime":1677214136128,"results":"50","hashOfConfig":"32"},{"size":347,"mtime":1675360339165,"results":"51","hashOfConfig":"32"},{"size":2708,"mtime":1677037249790,"results":"52","hashOfConfig":"32"},{"size":5050,"mtime":1677580265639,"results":"53","hashOfConfig":"32"},{"size":585,"mtime":1675484782547,"results":"54","hashOfConfig":"32"},{"size":2371,"mtime":1677580378069,"results":"55","hashOfConfig":"32"},{"size":2895,"mtime":1677162856089,"results":"56","hashOfConfig":"32"},{"size":2945,"mtime":1677162859194,"results":"57","hashOfConfig":"32"},{"size":274,"mtime":1676928300562,"results":"58","hashOfConfig":"32"},{"size":1283,"mtime":1677213144206,"results":"59","hashOfConfig":"32"},{"size":6632,"mtime":1677261074393,"results":"60","hashOfConfig":"32"},{"size":2062,"mtime":1677243761039,"results":"61","hashOfConfig":"32"},{"filePath":"62","messages":"63","suppressedMessages":"64","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1scgzfc",{"filePath":"65","messages":"66","suppressedMessages":"67","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"68","messages":"69","suppressedMessages":"70","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"71","messages":"72","suppressedMessages":"73","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"74","messages":"75","suppressedMessages":"76","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"77","messages":"78","suppressedMessages":"79","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"80","messages":"81","suppressedMessages":"82","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"83","messages":"84","suppressedMessages":"85","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"86","messages":"87","suppressedMessages":"88","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"89","messages":"90","suppressedMessages":"91","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"92","messages":"93","suppressedMessages":"94","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"95"},{"filePath":"96","messages":"97","suppressedMessages":"98","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"99","messages":"100","suppressedMessages":"101","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"102","messages":"103","suppressedMessages":"104","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"105","messages":"106","suppressedMessages":"107","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"108","messages":"109","suppressedMessages":"110","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"111","messages":"112","suppressedMessages":"113","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"114","messages":"115","suppressedMessages":"116","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"117","messages":"118","suppressedMessages":"119","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"120","messages":"121","suppressedMessages":"122","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"123","messages":"124","suppressedMessages":"125","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"126","messages":"127","suppressedMessages":"128","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"129","messages":"130","suppressedMessages":"131","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"132","messages":"133","suppressedMessages":"134","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"135","messages":"136","suppressedMessages":"137","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"138","messages":"139","suppressedMessages":"140","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"141","messages":"142","suppressedMessages":"143","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"144","messages":"145","suppressedMessages":"146","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"147","messages":"148","suppressedMessages":"149","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"150","messages":"151","suppressedMessages":"152","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\PC\\Desktop\\proptory-webapp\\pages\\agents\\[id].tsx",[],[],"C:\\Users\\PC\\Desktop\\proptory-webapp\\pages\\api\\admin\\privileges\\editor\\auth\\adminLogin.ts",[],[],"C:\\Users\\PC\\Desktop\\proptory-webapp\\pages\\api\\admin\\privileges\\editor\\auth\\adminSignup.ts",[],[],"C:\\Users\\PC\\Desktop\\proptory-webapp\\pages\\api\\admin\\privileges\\editor\\listing.ts",[],[],"C:\\Users\\PC\\Desktop\\proptory-webapp\\pages\\api\\agents\\[id].ts",[],[],"C:\\Users\\PC\\Desktop\\proptory-webapp\\pages\\api\\auth\\login.ts",[],[],"C:\\Users\\PC\\Desktop\\proptory-webapp\\pages\\api\\auth\\signup.ts",[],[],"C:\\Users\\PC\\Desktop\\proptory-webapp\\pages\\api\\health\\index.ts",[],[],"C:\\Users\\PC\\Desktop\\proptory-webapp\\pages\\api\\listings\\index.ts",[],[],"C:\\Users\\PC\\Desktop\\proptory-webapp\\pages\\api\\listings\\[id].ts",[],[],"C:\\Users\\PC\\Desktop\\proptory-webapp\\pages\\listings\\index.tsx",["153"],[],"import { useEffect, useState } from \"react\";\nimport { ListingDetailed } from \"./[id]\";\nimport useSWR from 'swr';\nimport { useRouter } from \"next/router\";\nimport { fetcher } from \"@/utils/fetcher\";\nimport Card from \"@/components/card\";\nimport { setQuery, setSearch, useStateValue } from \"@/state\";\nimport Head from \"next/head\";\nimport { GetServerSideProps, InferGetServerSidePropsType } from 'next'\n\ninterface Pagination {\n    pagination: {\n        currentPage: number;\n        count: number;\n        pageCount: number;\n    },\n    items: ListingDetailed[];\n}\n\nexport default function Listings({ data: { items, pagination: { count, currentPage, pageCount } } }: InferGetServerSidePropsType<typeof getServerSideProps>) {\n    const router = useRouter();\n    const [{ query: { searchVal, maxPrice, minPrice } }, dispatch] = useStateValue();\n\n    useEffect(() => {\n        // console.log(currentPage);\n        const search = router.query.search as string || '';\n        const minPrice = Number(router.query.minPrice);\n        const maxPrice = Number(router.query.maxPrice);\n        dispatch(setQuery({ searchVal: search, minPrice, maxPrice }));\n    }, []);\n    // const [page, setPage] = useState(1);\n    // const [pageCount, setPageCount] = useState(0);\n    // const { data: data, error } = useSWR<Pagination>(`/api/listings?page=${page}&search=${searchVal}`, fetcher);\n    // const { data, error } = useSWR<Pagination>(`/api/listings?page=${page}&search=${(searchVal.length === 0 || searchVal.length > 5) ? searchVal : ''}`, fetcher);\n\n    // useEffect(() => {\n    //     if (data) {\n    //         setPageCount(data.pagination.pageCount);\n    //     }\n    // }, [data]);\n\n    function handlePrevious() {\n        // setPage((p) => {\n        //     if (p === 1) return p;\n        //     return p - 1;\n        // });\n        if (currentPage === 1) return null;\n        router.push({\n            pathname: '/listings',\n            query: {\n                page: currentPage - 1,\n                search: searchVal,\n                maxPrice,\n                minPrice\n            }\n        })\n    }\n\n    function handleNext() {\n        // setPage((p) => {\n        //     if (p === pageCount) return p;\n        //     return p + 1;\n        // });\n        if (currentPage === pageCount) return null;\n        router.push({\n            pathname: '/listings',\n            query: {\n                page: currentPage + 1,\n                search: searchVal,\n                maxPrice,\n                minPrice\n            }\n        })\n    }\n\n    // if (error) {\n    //     return <div>{JSON.stringify(error)}</div>;\n    // }\n\n    if (!items) {\n        return <p>No results found</p>;\n    }\n\n    return (\n        <>\n            <Head>\n                <title>Listings</title>\n                <meta name=\"description\" content=\"Listings\" />\n                <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n                <link rel=\"icon\" href=\"/favicon.ico\" />\n            </Head>\n            <div className=\"md:text-3xl max-md:xl mx-12 py-4\">{searchVal ? `Search Results on '${searchVal}'` : `${count} Total Listings`}</div>\n            <div className='w-full grid lg:grid-cols-3 md:grid-cols-2 max-md:grid-cols-1'>\n                {items.map((item) => {\n                    return (\n                        <Card key={item.id} data={item} />\n                    );\n                })}\n            </div>\n\n            {pageCount ?\n                <footer className=\"w-full flex flex-row items-center justify-center space-x-4 py-4 px-4 max-md:text-md md:text-xl\">\n                    <button disabled={currentPage === 1} onClick={handlePrevious}>\n                        Previous\n                    </button>\n                    <div>\n                        Page {currentPage} of {pageCount}\n                    </div>\n                    <button disabled={currentPage === pageCount} onClick={handleNext}>\n                        Next\n                    </button>\n                </footer>\n                : ''}\n        </>\n    );\n}\n\nexport const getServerSideProps: GetServerSideProps<{ data: Pagination }> = async ({ query }) => {\n    const search = query.search as string || '';\n    const page = query.page || 1;\n    const minPrice = query.minPrice;\n    const maxPrice = query.maxPrice;\n\n    const res = await fetch(`http://localhost:3000/api/listings?page=${page}&search=${search}&minPrice=${minPrice}&maxPrice=${maxPrice}`);\n    const data: Pagination = await res.json();\n\n    return {\n        props: {\n            data,\n        },\n    }\n}","C:\\Users\\PC\\Desktop\\proptory-webapp\\pages\\listings\\view3d\\[id].tsx",[],["154"],"C:\\Users\\PC\\Desktop\\proptory-webapp\\pages\\listings\\[id].tsx",[],["155"],"C:\\Users\\PC\\Desktop\\proptory-webapp\\pages\\_app.tsx",[],[],"C:\\Users\\PC\\Desktop\\proptory-webapp\\pages\\_document.tsx",[],[],"C:\\Users\\PC\\Desktop\\proptory-webapp\\components\\add_listing_modal.tsx",[],[],"C:\\Users\\PC\\Desktop\\proptory-webapp\\components\\card.tsx",[],[],"C:\\Users\\PC\\Desktop\\proptory-webapp\\components\\formInputs\\button.tsx",[],[],"C:\\Users\\PC\\Desktop\\proptory-webapp\\components\\formInputs\\input.tsx",[],[],"C:\\Users\\PC\\Desktop\\proptory-webapp\\components\\layout.tsx",[],[],"C:\\Users\\PC\\Desktop\\proptory-webapp\\components\\login_form.tsx",[],[],"C:\\Users\\PC\\Desktop\\proptory-webapp\\components\\nav.tsx",[],["156","157","158","159","160"],"C:\\Users\\PC\\Desktop\\proptory-webapp\\components\\notification.tsx",[],[],"C:\\Users\\PC\\Desktop\\proptory-webapp\\components\\searchBar.tsx",["161"],[],"C:\\Users\\PC\\Desktop\\proptory-webapp\\components\\signup_form.tsx",[],[],"C:\\Users\\PC\\Desktop\\proptory-webapp\\pages\\auth\\index.tsx",[],["162"],"C:\\Users\\PC\\Desktop\\proptory-webapp\\pages\\admin\\dashboard\\index.tsx",[],[],"C:\\Users\\PC\\Desktop\\proptory-webapp\\components\\filter.tsx",[],[],"C:\\Users\\PC\\Desktop\\proptory-webapp\\components\\priceFilter.tsx",[],[],"C:\\Users\\PC\\Desktop\\proptory-webapp\\components\\shareModal.tsx",[],[],{"ruleId":"163","severity":1,"message":"164","line":30,"column":8,"nodeType":"165","endLine":30,"endColumn":10,"suggestions":"166"},{"ruleId":"167","severity":1,"message":"168","line":71,"column":25,"nodeType":"169","endLine":76,"endColumn":27,"suppressions":"170"},{"ruleId":"163","severity":1,"message":"171","line":60,"column":8,"nodeType":"165","endLine":60,"endColumn":24,"suggestions":"172","suppressions":"173"},{"ruleId":"163","severity":1,"message":"174","line":34,"column":8,"nodeType":"165","endLine":34,"endColumn":10,"suggestions":"175","suppressions":"176"},{"ruleId":"167","severity":1,"message":"168","line":69,"column":34,"nodeType":"169","endLine":75,"endColumn":23,"suppressions":"177"},{"ruleId":"167","severity":1,"message":"168","line":76,"column":33,"nodeType":"169","endLine":81,"endColumn":23,"suppressions":"178"},{"ruleId":"167","severity":1,"message":"168","line":95,"column":34,"nodeType":"169","endLine":101,"endColumn":23,"suppressions":"179"},{"ruleId":"167","severity":1,"message":"168","line":102,"column":33,"nodeType":"169","endLine":107,"endColumn":23,"suppressions":"180"},{"ruleId":"163","severity":1,"message":"181","line":16,"column":8,"nodeType":"165","endLine":16,"endColumn":19,"suggestions":"182"},{"ruleId":"167","severity":1,"message":"168","line":33,"column":17,"nodeType":"169","endLine":37,"endColumn":19,"suppressions":"183"},"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'dispatch', 'router.query.maxPrice', 'router.query.minPrice', and 'router.query.search'. Either include them or remove the dependency array.","ArrayExpression",["184"],"@next/next/no-img-element","Using `<img>` could result in slower LCP and higher bandwidth. Use `<Image />` from `next/image` instead to utilize Image Optimization. See: https://nextjs.org/docs/messages/no-img-element","JSXOpeningElement",["185"],"React Hook useEffect has missing dependencies: 'id' and 'router'. Either include them or remove the dependency array.",["186"],["187"],"React Hook useEffect has a missing dependency: 'dispatch'. Either include it or remove the dependency array.",["188"],["189"],["190"],["191"],["192"],["193"],"React Hook useEffect has a missing dependency: 'search'. Either include it or remove the dependency array.",["194"],["195"],{"desc":"196","fix":"197"},{"kind":"198","justification":"199"},{"desc":"200","fix":"201"},{"kind":"198","justification":"199"},{"desc":"202","fix":"203"},{"kind":"198","justification":"199"},{"kind":"198","justification":"199"},{"kind":"198","justification":"199"},{"kind":"198","justification":"199"},{"kind":"198","justification":"199"},{"desc":"204","fix":"205"},{"kind":"198","justification":"199"},"Update the dependencies array to be: [dispatch, router.query.maxPrice, router.query.minPrice, router.query.search]",{"range":"206","text":"207"},"directive","","Update the dependencies array to be: [id, router, router.isReady]",{"range":"208","text":"209"},"Update the dependencies array to be: [dispatch]",{"range":"210","text":"211"},"Update the dependencies array to be: [search, searchVal]",{"range":"212","text":"213"},[1146,1148],"[dispatch, router.query.maxPrice, router.query.minPrice, router.query.search]",[2038,2054],"[id, router, router.isReady]",[1194,1196],"[dispatch]",[547,558],"[search, searchVal]"]